#### workflow-admin

##### 项目简介
> 1.申诉投诉工单流后台接口

##### 编译环境
> 请只用golang v1.8.x以上版本编译执行。  

##### 依赖包
> 1.公共包go-common  

#### 初始化 Tag

```SQL
INSERT INTO workflow_tag (id, name, business, weight, round, state, remark) VALUES
(1, '有其他问题', 1, 0, 2, 1, '为帮助审核人员更快处理，请补充问题类型和出现位置等详细信息'),
(2, '违法违禁', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
(3, '色情', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
(4, '低俗', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
(5, '赌博诈骗', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
(6, '血腥暴力', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
(7, '人身攻击', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
(8, '与站内其他视频撞车', 1, 0, 1, 1, '为帮助审核人员更快处理，请补充重复稿件 av 号'),
(9, '引战', 1, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
(10, '不能参加充电计划', 1, 0, 2, 1, '为帮助审核人员更快处理, 请补充问题类型和出现位置等详细信息');

INSERT INTO workflow_tag_control (tid, title, name, weight, component, placeholder, required) VALUES
(1, '描述', '描述', 100, 'textarea', '', 1),
(2, '描述', '描述', 100, 'textarea', '', 1),
(3, '描述', '描述', 100, 'textarea', '', 1),
(4, '描述', '描述', 100, 'textarea', '', 1),
(5, '描述', '描述', 100, 'textarea', '', 1),
(6, '描述', '描述', 100, 'textarea', '', 1),
(7, '描述', '描述', 100, 'textarea', '', 1),
(8, 'av 号', 'av 号', 100, 'input', '', 1),
(8, '描述', '描述', 100, 'textarea', '', 0),
(9, '描述', '描述', 100, 'textarea', '', 1),
(10, '描述', '描述', 100, 'textarea', '', 1);

INSERT INTO workflow_tag (name, business, weight, round, state, remark) VALUES
('违法违禁', 3, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('色情', 3, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('低俗', 3, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('赌博诈骗', 3, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('人身攻击', 3, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('内容抄袭', 3, 0, 2, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('侵犯隐私', 3, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('垃圾广告', 3, 0, 2, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('引战', 3, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
('恶意剧透', 3, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
('作品不相关', 3, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
('其他问题', 3, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置');

INSERT INTO workflow_tag (name, business, weight, round, state, remark) VALUES
('违法违禁', 4, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('色情', 4, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('低俗', 4, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('赌博诈骗', 4, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('人身攻击', 4, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('内容抄袭', 4, 0, 2, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('侵犯隐私', 4, 0, 1, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('垃圾广告', 4, 0, 2, 1, '为帮助审核人员更快处理，请补充违规内容出现位置'),
('引战', 4, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
('恶意剧透', 4, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
('作品不相关', 4, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置'),
('其他问题', 4, 0, 2, 1, '为帮助审核人员更快处理，请补充引战的话题和出现位置');

INSERT INTO workflow_tag (name, business, weight, round, state) VALUES
('评论', 5, 0, 1, 1),
('弹幕', 5, 0, 2, 1),
('私信', 5, 0, 3, 1),
('标签', 5, 0, 4, 1),
('个人资料', 5, 0, 5, 1),
('投稿', 5, 0, 6, 1),
('音频', 5, 0, 7, 1),
('专栏', 5, 0, 8, 1),
('空间头图', 5, 0, 9, 1);
```

#### DB Migration

##### 增加申诉权限点

```SQL
-- 这里是 bilibili_manager.auth_item
UPDATE auth_item set name='投诉处理列表',description='投诉处理列表',data='WF_ARCHIVE_COMPLAIN_LIST' WHERE name='稿件反馈列表';
UPDATE auth_item set name='投诉处理一审',description='投诉处理一审',data='WF_ARCHIVE_COMPLAIN_ROUND_1' WHERE name='稿件反馈一审';
UPDATE auth_item set name='投诉处理回查',description='投诉处理回查',data='WF_ARCHIVE_COMPLAIN_ROUND_2' WHERE name='稿件反馈回查';
INSERT auth_item (name,description,data) VALUES 
('申诉处理列表', '申诉处理列表', 'WF_ARCHIVE_APPEAL_LIST'), 
('申诉处理一审', '申诉处理一审', 'WF_ARCHIVE_APPEAL_ROUND_1'), 
('申诉处理回查', '申诉处理回查', 'WF_ARCHIVE_APPEAL_ROUND_2');
```